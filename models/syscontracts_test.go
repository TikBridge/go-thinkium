package models

import (
	"encoding/hex"
	"testing"

	"github.com/ThinkiumGroup/go-common"
)

func TestSysContracts_InputString(t *testing.T) {
	SysContractLogger.Register(AddressOfRequiredReserve, RRAbi)
	SysContractLogger.Register(AddressOfBridgeInfo, BridgeInfoAbi)
	SysContractLogger.Register(AddressOfSysBridge, BridgeAbi)
	mainbs, _ := hex.DecodeString("7857fe4267199c0766a7da1e1ab66ba01a421a64")
	SysContractLogger.Register(common.BytesToAddress(mainbs), Posv3Abi)

	bs, _ := hex.DecodeString("931042b300000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000003e800000000000000000000000000000000000000000000000000000000000003560000000000000000000000000000000000000000000000000000000000000040e90a151759bf070969aae664e00502bb08568c85a73874492a3ec480c5178d5da29c790896fc62106e32d172819dec94202ff90f3b7ba3e6adf38508bc58cf43")
	addrBs, _ := hex.DecodeString("7857fe4267199c0766a7da1e1ab66ba01a421a64")
	addr := common.BytesToAddress(addrBs)

	if SysContractLogger.Has(&addr) {
		s := SysContractLogger.InputString(addr, bs)
		t.Logf("%s", s)
	} else {
		t.Fatalf("%s not has", addr)
	}
}
